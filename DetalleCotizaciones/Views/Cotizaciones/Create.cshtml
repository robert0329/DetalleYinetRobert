
@model DetalleCotizaciones.Models.Cotizaciones


@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>


@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Cotizaciones</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.Fecha, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Fecha, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Fecha, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ClienteId, "ClienteId", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("ClienteId", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.ClienteId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Monto, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Monto, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Monto, "", new { @class = "text-danger" })
            </div>
        </div>
        <h4>Productos</h4>
        <div class="form-group">
            @Html.LabelFor(model => model.product.Descripcion, "Descripcion", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("Descripcion", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.product.Descripcion, "", new { @class = "text-danger" })
            </div>
        </div>
        <table class="table table-responsive">
            <tr>
                <td>Categoria</td>
                <td>Producto</td>
                <td>Precio</td>
                <td>Cantidad</td>
                <td>&nbsp;</td>
            </tr>
            <tr class="mycontainer" id="mainrow">
                <td>
                    <select id="Categoria" class="pc form-control" onchange="LoadProduct(this)">
                        <option>Select</option>
                    </select>
                    <span class="error">Seleciona la categoria</span>
                </td>
                <td>
                    <select id="Descripcion" class="product form-control">
                        <option>Select</option>
                    </select>
                    <span class="error">Select producto</span>
                </td>
                <td>
                    <input type="text" id="Precio" class="quantity form-control" />
                    <span class="error">Valid quantity required</span>
                </td>
                <td>
                    <input type="text" id="Cantidad" class="rate form-control" />
                    <span class="error">Valid rate required</span>
                </td>
                <td>
                    <input type="button" id="add" value="add" style="width:80px" class="btn btn-success" />
                </td>
            </tr>
        </table>
        <div id="orderItems">
            <table class="table table-responsive" id="orderdetailsItems"></table>
            <span id="orderItemError" style="color:red"></span>
        </div>
        <div style="padding:10px 0; text-align:right">
            <input id="submit" type="button" value="Save Order" class="btn btn-warning" style="padding:10px 20px" />
        </div>
    </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>

        <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="//code.jquery.com/ui/3.1.1/themes/smoothness/jquery-ui.css" />
        <script src="//code.jquery.com/ui/3.1.1/jquery-ui.js"></script>
        <script src="~/Scripts/myScripts.js"></script>
        <script type="text/javascript">
            $(function () {
                $('#Fecha').datepicker({
                    dateFormat: 'mm-dd-yy'
                })
            })
        </script>
        <style>
            span.error {
                display: block;
                visibility: hidden;
                color: red;
                font-size: 90%;
            }

            tr.error {
                background-color: rgba(255,0,0,0.35);
            }
        </style>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
